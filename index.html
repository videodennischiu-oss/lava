<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>ç«å±±è·³èº | Volcano Jump</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/phaser/3.60.0/phaser.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700;900&family=Cinzel:wght@400;600&display=swap" rel="stylesheet">
<style>
/* åŸºç¤é‡ç½® */
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
body{background:#0a0005;display:flex;justify-content:center;align-items:center;height:100vh;overflow:hidden;font-family:'Cinzel',serif;}
#game-container{position:relative;width:420px;height:748px;}
canvas{display:block;}

/* UI å±¤ç´š */
#ui-overlay{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:10;}

/* HUD */
#hud-top{position:absolute;top:0;left:0;right:0;height:60px;pointer-events:none;
  background:linear-gradient(to bottom,rgba(0,0,0,0.55),transparent);}
#score-display{position:absolute;top:10px;left:16px;display:none;pointer-events:none;}
#score-label{color:rgba(255,160,80,.6);font-size:9px;letter-spacing:3px;text-transform:uppercase;}
#score-value{color:#ffd700;font-family:'Cinzel Decorative',cursive;font-size:26px;font-weight:900;line-height:1;
  text-shadow:0 0 10px rgba(255,200,0,.8),2px 2px 3px rgba(0,0,0,.9);}
#lang-btn{position:absolute;top:10px;right:12px;pointer-events:all;
  background:linear-gradient(145deg,#1c0500,#4a1000);border:2px solid #ff6b00;color:#ffd700;
  font-family:'Cinzel',serif;font-size:11px;font-weight:700;letter-spacing:1px;
  padding:6px 14px;border-radius:30px;cursor:pointer;z-index:30;
  box-shadow:0 0 12px rgba(255,100,0,.5),inset 0 1px 0 rgba(255,190,80,.3);}

/* é“å…·æ¬„ (ä¿®æ­£é‡è¤‡å®£å‘Š) */
#item-bar{
  position:absolute;bottom:210px;left:50%;transform:translateX(-50%);
  display:none;pointer-events:all;
  flex-direction:row;gap:8px;align-items:center;
  background:rgba(0,0,0,0.65);border:1px solid rgba(255,120,0,0.4);
  border-radius:16px;padding:6px 10px;backdrop-filter:blur(6px);z-index:25;
}
.item-slot{
  width:48px;height:48px;border-radius:10px;cursor:pointer;
  background:rgba(20,5,0,0.7);border:2px solid rgba(255,100,0,0.3);
  display:flex;align-items:center;justify-content:center;
  flex-direction:column;position:relative;transition:all .15s;
}
.item-slot.selected{border-color:#00ffcc;box-shadow:0 0 15px rgba(0,255,180,0.6);background:rgba(0,40,30,0.8);}
.item-emoji{font-size:24px;}
.item-label{font-size:7px;color:rgba(255,180,80,.8);margin-top:1px;}

/* æ§åˆ¶æŒ‰éˆ• */
#controls{position:absolute;bottom:0;left:0;right:0;height:220px;display:none;pointer-events:none;z-index:15;}
#dpad{position:absolute;bottom:30px;left:20px;width:150px;height:150px;pointer-events:none;}
.dpad-btn{position:absolute;pointer-events:all;background:rgba(50,15,0,0.8);border:2px solid #ff6b00;border-radius:10px;display:flex;align-items:center;justify-content:center;transition:0.1s;}
.dpad-btn:active{background:#ff6b00;}
#btn-up{left:50px;top:0;width:50px;height:50px;}
#btn-left2{left:0;top:50px;width:50px;height:50px;}
#btn-right2{right:0;top:50px;width:50px;height:50px;}

#right-btns{position:absolute;bottom:30px;right:20px;width:140px;height:150px;pointer-events:none;}
#btn-jump{position:absolute;top:0;right:0;width:80px;height:80px;border-radius:50%;background:#6e1d00;border:3px solid #ff8800;pointer-events:all;display:flex;flex-direction:column;align-items:center;justify-content:center;}
#btn-use{position:absolute;bottom:0;left:0;width:70px;height:70px;border-radius:50%;background:#0a3020;border:3px solid #00ffcc;pointer-events:all;display:flex;flex-direction:column;align-items:center;justify-content:center;}

/* é¸å–®èˆ‡çµç®— */
#menu-screen{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(10,0,5,0.9);z-index:100;pointer-events:all;}
#gameover-screen{position:absolute;inset:0;display:none;flex-direction:column;align-items:center;justify-content:center;background:rgba(0,0,0,0.85);z-index:110;pointer-events:all;}

/* å‹•ç•«èˆ‡é–ƒçˆ */
#danger-flash{position:absolute;inset:0;pointer-events:none;z-index:5;transition:background 0.2s;}
.luxury-btn{background:linear-gradient(160deg,#5c1400,#1e0500);padding:15px 50px;border-radius:50px;border:2px solid #ffd700;color:#ffd700;cursor:pointer;font-weight:bold;font-size:20px;}
</style>
</head>
<body>
<div id="game-container">
  <div id="ui-overlay">
    <div id="score-display"><div id="score-label">HEIGHT</div><div id="score-value">0</div></div>
    <button id="lang-btn">EN / ä¸­</button>
    <div id="danger-flash"></div>
    <div id="item-bar"></div>

    <div id="controls">
      <div id="dpad">
        <div class="dpad-btn" id="btn-up">â–²</div>
        <div class="dpad-btn" id="btn-left2">â—€</div>
        <div class="dpad-btn" id="btn-right2">â–¶</div>
      </div>
      <div id="right-btns">
        <div id="btn-jump"><span style="font-size:20px">JUMP</span></div>
        <div id="btn-use"><span id="btn-use-icon">ğŸ’</span><span style="font-size:10px">USE</span></div>
      </div>
    </div>

    <div id="menu-screen">
      <h1 style="color:#ffd700;font-size:40px;margin-bottom:20px;text-align:center;">VOLCANO<br>JUMP</h1>
      <button class="luxury-btn" id="start-btn">PLAY</button>
    </div>

    <div id="gameover-screen">
      <h2 style="color:#ff3300;font-size:30px;">GAME OVER</h2>
      <div style="color:#ffd700;font-size:50px;margin:20px 0;" id="final-score">0</div>
      <button class="luxury-btn" id="retry-btn">RETRY</button>
    </div>
  </div>
</div>

<script>
/* â•â•â•â•â•â•â• é—œéµä¿®å¾©ï¼šè®Šæ•¸æå‰å®£å‘Š â•â•â•â•â•â•â• */
var inventory = [];
var selectedSlot = 0;
var gameStarted = false;
var phaserGame = null;
var lang = 'en';

const ITEM_INFO = {
  wing: { emoji: 'ğŸª¶', label: 'WINGS' },
  sub:  { emoji: 'ğŸš€', label: 'CAPSULE' },
  drill:{ emoji: 'ğŸ”©', label: 'DRILL' },
  sword:{ emoji: 'âš”ï¸', label: 'SWORD' }
};

/* â•â•â•â•â•â•â• åŠŸèƒ½å‡½æ•¸ â•â•â•â•â•â•â• */
function renderItemBar() {
  const bar = document.getElementById('item-bar');
  if (!bar) return;
  bar.innerHTML = '';
  if (inventory.length === 0) {
    bar.style.display = 'none';
    return;
  }
  bar.style.display = 'flex';
  inventory.forEach((item, i) => {
    const slot = document.createElement('div');
    slot.className = 'item-slot' + (i === selectedSlot ? ' selected' : '');
    slot.innerHTML = `<span class="item-emoji">${ITEM_INFO[item.type].emoji}</span>
                      <span class="item-label">${ITEM_INFO[item.type].label}</span>`;
    slot.onclick = () => { selectedSlot = i; renderItemBar(); };
    bar.appendChild(slot);
  });
}

function startGame() {
  inventory = [];
  selectedSlot = 0;
  gameStarted = true;
  
  // é¡¯ç¤º/éš±è— UI
  document.getElementById('menu-screen').style.display = 'none';
  document.getElementById('gameover-screen').style.display = 'none';
  document.getElementById('score-display').style.display = 'block';
  document.getElementById('controls').style.display = 'block';
  renderItemBar();

  if (!phaserGame) {
    phaserGame = new Phaser.Game(cfg);
  } else {
    phaserGame.scene.start('GameScene');
  }
}

/* â•â•â•â•â•â•â• Phaser éŠæˆ²é‚è¼¯ (ç°¡åŒ–ç‰ˆç¤ºæ„) â•â•â•â•â•â•â• */
class GameScene extends Phaser.Scene {
  constructor() { super('GameScene'); }
  create() {
    // åˆå§‹åŒ–ç©å®¶ã€å¹³å°ç­‰é‚è¼¯...
    this.add.text(210, 300, 'GAME RUNNING', {fontSize:'20px'}).setOrigin(0.5);
    // é€™è£¡æ”¾å…¥ä½ åŸæœ¬çš„ GameScene ä»£ç¢¼
  }
  update() {
    // é€™è£¡æ”¾å…¥ä½ åŸæœ¬çš„ Update ä»£ç¢¼
  }
}

const cfg = {
  type: Phaser.AUTO,
  width: 420, height: 748,
  parent: 'game-container',
  transparent: true,
  physics: { default: 'arcade', arcade: { gravity: { y: 600 } } },
  scene: [GameScene]
};

// ç¶å®šæŒ‰éˆ•
document.getElementById('start-btn').onclick = startGame;
document.getElementById('retry-btn').onclick = startGame;
</script>
</body>
</html>
